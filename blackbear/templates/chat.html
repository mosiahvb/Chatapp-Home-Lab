{% extends "base.html" %}
{% block content %}
<div class="chat-container">
    <div id="messages"></div>
    <div class="input-area">
        <input type="text" id="messageInput" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    const socket = io();
    
    socket.on('connect', function() {
        console.log('Connected to server');
    });
    
    socket.on('status', function(data) {
        console.log('Status:', data.msg);
    });
    
    function sendMessage() {
        const input = document.getElementById('messageInput');
        const message = input.value;
        if (message.trim()) {
            socket.emit('message', {data: message});
            input.value = '';
        }
    }
    
    // Send message on Enter key
    document.getElementById('messageInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });
</script>
{% endblock %}